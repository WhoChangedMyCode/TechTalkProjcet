<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title></title>
    <link href="/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="/js/jquery-3.6.3.min.js"></script>
    <script src="/js/popper.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div class="p-3 mb-3 border-bottom"
     style="background-color: #1369bf; height:58px; position: relative;display: flex;justify-content: space-around;align-items: center;">
    <div class="container" style="position: absolute;">
        <div class="d-flex flex-wrap align-items-center justify-content-center">
            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0 link-light">
                <li><a href="/article/articleList/1" class="nav-link px-2 link-light">主页</a></li>
                <li><a href="/to/article/issue" class="nav-link px-2 link-light">发帖</a></li>
                <li>
                    <div class="dropdown text-end nav-link px-2">
                        <div class="d-block link-light text-decoration-none dropdown-toggle "
                             data-bs-toggle="dropdown" aria-expanded="false">文章类型
                        </div>
                        <ul class="dropdown-menu text-small" id="navigationTypeList">
                            <li><a class='dropdown-item' href="#"></a></li>
                        </ul>
                    </div>
                </li>
            </ul>

            <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
                <input type="search" class="form-control" placeholder="Search..." aria-label="Search">
            </form>

            <div class="dropdown text-end">
                <a href="#" class="d-block link-light text-decoration-none dropdown-toggle" data-bs-toggle="dropdown"
                   aria-expanded="false">
                    <img src="/image/Tux.svg" alt="mdo" width="32" height="32" class="rounded-circle">
                </a>
                <ul class="dropdown-menu text-small">
                    <li>
                        <a class="dropdown-item" href="/article/articleListById/1">个人主页</a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="/to/view/show">个人信息</a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="/to/update">修改密码</a>
                    </li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <li>
                        <a class="dropdown-item" href="/getOut">退出</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <span id="humanIdNav" hidden="hidden" th:text="${session.human.humanId}"></span>
</div>

<script>
    $(function () {
        $.ajax({
            url: "/type/typeList",
            type: "POST",
            success: (typeList) => {
                $.each(typeList, function (i, type_d) {
                    let context = "<li><a class='dropdown-item' href='/article/articleTypeList/1/" + type_d.typeId + "'>" + type_d.typeName + "</a></li>"
                    $('#navigationTypeList').append(context);
                });
            },
            error: () => {
                console.log("fail list")
            }
        });
    });
</script>
</body>
</html>
